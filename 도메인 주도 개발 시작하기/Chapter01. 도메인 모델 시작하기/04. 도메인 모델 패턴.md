## 정리

### 도메인 모델 패턴이란?

> 아키텍처 상의 도메인 계층을 객체 지향 기법으로 구현하는 패턴이다.



일반적인 애플리케이션의 아키텍처는 다음과 같이 4개의 영역으로 구성된다.

![아키텍처 구성](https://user-images.githubusercontent.com/42582516/149661289-006d3f24-48b5-4aca-b8c1-b4bc0ed42178.png)

| 계층(Layer)                                       | 설명                                                         |
| ------------------------------------------------- | ------------------------------------------------------------ |
| **사용자 인터페이스**(UI) 또는 표현(Presentation) | 사용자의 요청을 처리하고 사용자(소프트웨어를 사용하는 사람 / 외부 시스템)에게 정보를 보여줍니다. |
| **응용**(Application)                             | 사용자가 요청한 기능을 실행한다. 업무 로직을 직접 구현하지 않으며 도메인 계층을 조합해 기능을 실행한다 |
| **도메인**                                        | 시스템이 제공할 도메인의 규칙을 규현한다.                    |
| **인프라스트럭처**(Infrastructure)                | 데이터베이스나 메시징 시스템과 같은 외부 시스템과의 연동을 처리한다 |



도메인 계층은 도메인의 핵심 규칙을 구현한다.

예를 들어, '출고 전에 배송지를 변경할 수 있다'라는 규칙을 구현한 코드가 도메인 계층에 위치하게 된다.

이러한 **도메인 규칙을 객체 지향 기법으로 구현**한 패턴이 도메인 모델 패턴이다.



배송지 변경 가능 여부를 판단하는 기능이 주문의 어느 하위 도메인에 위치해도 상관없다.

중요한 점은 주문과 관련된 중요 업무 규칙을 주문 도메인 모델에서 구현한다는 것이다.

중요 업무 규칙을 구현한 코드가 도메인 모델에만 위치하기 때문에 규칙이 변하거나 확장할 때 다른 코드에 끼치는 영향이 적다.



개념 모델은 순수하게 도메인을 분석한 결과물이다. 

구현 기술, 성능과 같은 것을 고려하지 않았기 때문에 구현 모델로 개념 모델을 사용할 수 없다.

처음부터 완벽하게 도메인을 표현하는 모델을 만들 수는 있지만, 결국 개발하는 동안 새로운 통찰을 얻으며 도메인 지식이 완전 다른 의미로 해석되는 경우도 있다.

따라서 처음부터 완벽한 개념 모델을 만드는 것보다 전반적인 개요를 알 수 있는 개념 모델을 작성해야 한다.

프로젝트 초기에는 도메인에 대한 전체 윤곽을 이해하는 데 집중하고, 구현하는 과정에서 개념 모델을 구현 모델로 발전시켜 나가야 한다.



## 느낀점

도메인 규칙을 객체 지향 기법으로 구현한 도메인 모델 패턴에 대해서 알게되었다.

도메인 모델은 도메인 자체를 표현하는 개념적인 모델을 의지하지만, 도메인 계층을 구현할 때 사용하는 객체 모델을 의미하기도 한다.

